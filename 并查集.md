[题目1](http://poj.org/problem?id=1456)。并查集+贪心。

```cpp
#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define pii pair<int,int>
const int N=2e5+5;
int fa[N];
int find(int x)
{
    //将该结点直接指向对应的根节点
    return x==fa[x]?x:fa[x]=find(fa[x]);
}
struct node
{
    int w,ddl;
    bool operator<(const node &t)const 
    {
        return w>t.w;
    }
}a[N];

int main() 
{
    ios::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
    int n;
    while(cin>>n)
    {
        int ans=0,maxx=0;
        for(int i=1;i<=n;i++) 
        {
            cin>>a[i].w>>a[i].ddl;
            maxx=max(maxx,a[i].ddl);
        }
        for(int i=1;i<=maxx;i++) fa[i]=i;
        sort(a+1,a+n+1);
        for(int i=1;i<=n;i++)
        {
            int ddl=find(a[i].ddl);
            if(ddl>0)
            {
                fa[ddl]=ddl-1;
                ans+=a[i].w;
            }
        }
        cout<<ans<<"\n";
    }
    return 0;
}
```

[题目2](https://codeforces.com/contest/920/problem/E) 这个题看起来就很像并查集，被wa麻了。小暴力，其实不难，当n比较大的时候，m显然是很少的，因此大部分点都在一个连通块内，剩下的点（数量很少）直接暴力处理它在哪个连通块内即可。

```cpp
#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define pii pair<int,int>
#define inf 0x3f3f3f3f
#define db double
#define il inline
#define x first
#define y second
#define endl '\n'
const int N=2e5+5;
const int mod=998244353;
int in[N],ans[N],fa[N],v[N];
map<pii,int>bi;
vector<int>g[N];
int find(int x)
{
    //将该结点直接指向对应的根节点
    return x==fa[x]?x:fa[x]=find(fa[x]);
}
void merge(int x,int y)
{
    fa[find(x)]=find(y);
}

void solve()
{
    int n,m;cin>>n>>m;
    for(int i=1;i<=n;i++) fa[i]=i;
    for(int i=1;i<=m;i++)
    {
        int x,y;cin>>x>>y;
        bi[{x,y}]=bi[{y,x}]=1;
        in[x]++,in[y]++;
        g[x].push_back(y),g[y].push_back(x);
    }
    int minn=inf,ii;
    for(int i=1;i<=n;i++)
        if(in[i]<minn) minn=in[i],ii=i;
    map<int,int>mp;
    vector<int>sh;
    for(auto i:g[ii])
    {
        mp[i]++; 
        sh.push_back(i);
    }
    for(int i=1;i<=n;i++)
        if(mp[i]==0) merge(i,ii);
    for(auto i:sh)
        for(int j=1;j<=n;j++)
            if(!bi[{i,j}]) merge(j,i);
    for(int i=1;i<=n;i++) ans[find(i)]++;
    vector<int>out;
    for(int i=1;i<=n;i++) if(ans[i]) out.push_back(ans[i]);
    sort(out.begin(),out.end());
    cout<<out.size()<<endl;
    for(auto i:out) cout<<i<<" ";
}
signed main()
{
    ios::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
    int T=1;//cin>>T;
    while(T--)
    {
        solve();
    }
    return 0;
}
```